---
description: 用于实现或修改交互逻辑与界面组件的工作流，确保一致性
---

# 交互与界面开发工作流

此工作流强制要求在编码前符合 `交互模式.md` 和 `设计系统规范.md` 的要求。

## 1. 🔍 模式发现 (强制步骤)
在编写任何组件代码之前，你**必须**：
1. 识别交互类型（录入、对象管理、层级结构等）。
2. 使用 `view_file` 读取 `交互模式.md` 文件。
   - `view_file /Users/wuyuhui/Desktop/Cyacle-UX/交互模式.md`
3. 验证是否存在标准模式。
   - **如果有**：使用指定的精确组件和属性（例如 `EditableField`, `ObjectCard`）。
   - **如果没有**：停止。先询问用户是否允许创建新模式，或检查是否可以适配现有模式。**严禁私自发明新模式。**

## 2. 🎨 视觉合规检查
1. 读取 `设计系统规范.md` 以识别正确的 Token（颜色、间距、排版）。
   - `view_file /Users/wuyuhui/Desktop/Cyacle-UX/设计系统规范.md`
2. 确保不使用魔法数值（例如 `w-[123px]`），除非为了对齐绝对必要。

## 3. 🛡️ 飞行前验证 (Pre-Flight)
1. **强制执行**：读取 `经验复盘与避坑指南.md` 文件，将最近的经验教训加载到上下文中。
   - `view_file /Users/wuyuhui/Desktop/Cyacle-UX/经验复盘与避坑指南.md`
2. 根据该文件及下方列表检查你的计划：
- [ ] 我是否在使用 `Create...Page`？ -> 检查 “闭环创建 (Closed Loop Creation)” 规则。
- [ ] 我是否在使用 `DoubleColumnPage`？ -> 检查 “画布优先 (Canvas First)” 规则（禁止悬浮卡片）。
- [ ] 我是否在输入数据？ -> 检查 “录入模式 (Entry Pattern)”（标准 `EditableField` vs 自定义输入）。
- [ ] **状态持久化 (State Persistence)**：如果正在创建数据，状态存储在哪里？（App 根层级 vs 视图层级）。
- [ ] **视觉翻译 (Visual Interpret)**：“高亮”真的是指亮色吗，还是仅指高对比度/深色？

## 4. 💻 开发实现
1. 使用标准组件编写代码。
2. 如果你需要“破坏”标准组件（例如注入自定义子元素），**必须先在注释或推理块中证明其合理性**。

## 5. 🧪 验证
1. 验证组件的行为是否与 `交互模式.md` 中的参考完全一致。
2. 确保状态（空状态、填充状态、错误状态）处理符合标准。
